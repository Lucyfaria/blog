<!-- <h1>Hunchos Preisliste</h1> -->
<%= stylesheet_link_tag "pricelist", "data-turbo-track": "reload" %>
<% javascript_tag 'pricelist'%>
<div id="main">

    <div id="Fahrzeugkategorie">
        
    </div>
    <br>
    <div id="Zuordnung">
        <div class="row align-items-center">
            <div class="col" id="Headline">
                Zuordnung
            </div>
            <div class="col">
                <%= form_with model: @fraction do |f| %>
                <%# Grouped select %>
                <%# TODO: modify %>
                <%# <%= f.select :name,
                {
                    "Europe" => [ ["Berlin", "BE"], ["Madrid", "MD"] ],
                    "North America" => [ ["Chicago", "CHI"] ],
                },
                selected: "CHI" %> 
                <%= f.collection_select :fraction_id, Fraction.order(:name), :id, :name,{ prompt: "Zugehörigkeit auswählen" } ,{onchange: "Frakswitch(this);"} %>
                <% end %>
            </div>
            <div class="col">
            <input type="checkbox" id="rabatt10" name="rabatt10">
        <label for="rabatt10">&nbsp;VIP+: 20% Rabatt (VIP-Zivi) </label>
        <br>

        <input type="checkbox" id="rabatt20" name="rabatt20">
        <label for="rabatt20">&nbsp;VIP+: 30% Rabatt</label>
        <br>

        <input type="checkbox" id="rabatt30" name="rabatt30">
        <label for="rabatt30">&nbsp;VIP+: 40% Rabatt</label>
        <br>

            </div>
        </div>
     
        <br>
        <table class="table">
        <thead>
            <tr>
                <th scope="col">Primärfarbe</th>
                <th scope="col">Sekundärfarbe</th>
                <th scope="col">Perleffekt</th>
                <th scope="col">Reifenrauch</th>
                <th scope="col">Unterbodenbelichtung</th>
                <th scope="col">Vertrag bis</th>
                <th scope="col">inkl. Kennzeichen</th>
            <tr>
        </thead>
        <tbody>
            <tr>
                        
                <td id="primary"></td>
                <td id="secondary"></td>
                <td id="pearl"></td>
                <td id="lights"></td>
                <td id="smoke"></td>
                <td id="contract"></td>
                <td id="plate"></td>
                
            </tr>
            
            </tbody>
        </table>
        Zusätzliche Informationen werden hier in einer Textbox stehen... irgendwann 
        <%# TODO: Textbox erstellen, Add column further_info to fractions %>
    </div>
    <br>
    <div id="Upgrades">
     <div class="row align-items-left">
        <div class="col-1" id="Headline">
            Upgrades
            </div>
            
        <div class="col-11">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20px" height="20px" fill="turquoise" style="padding-bottom:3px;"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>
        Fulltune ist inklusive Federung. Die meisten Kunden wollen aber keine Federung eingebaut haben. Extra fragen!
        </div>
        </div>
        <br>
        <div class="row align-items-left">
        <div class="col">
            <input type="checkbox" id="fulltune" name="fulltune">
            <label for="fulltune">&nbsp;Fulltune (Bremsen, (Federung), Getriebe, Motor, Turbo)</label>
            <br>

           
            
            <input type="checkbox" id="panzerung" name="panzerung">
            <label for="panzerung">&nbsp;Panzerung</label>
            <br>

        </div>
        <div class="col">
        <input type="checkbox" id="bremsen" name="bremsen">
        <label for="bremsen">&nbsp;Bremsen</label>
        <br>

        <input type="checkbox" id="federung" name="federung">
        <label for="federung">&nbsp;Federung</label>
        <br>

        <input type="checkbox" id="getriebe" name="getriebe">
        <label for="getriebe">&nbsp;Getriebe</label>
        <br>

        <input type="checkbox" id="motor" name="motor">
        <label for="motor">&nbsp;Motor</label>
        <br>
         <input type="checkbox" id="turbo" name="turbo">
            <label for="turbo">&nbsp;Turbo</label>
            <br>
        </div>        

    </div>
    </div>
        <br>
    <div id="Basics">
        <div class="col" id="Headline">
                Basics
            </div>
        <br>
        <div class="row align-items-left">
        <div class="col">

        <input type="checkbox" id="prim" name="prim">
        <label for="prim">&nbsp;Lackierung Prim.</label>
        <br>
        <input type="checkbox" id="sek" name="sek">
        <label for="sek">&nbsp;Lackierung Sek.</label>
        <br>
        <input type="checkbox" id="perleffekt" name="perleffekt">
        <label for="perleffekt">&nbsp;Perleffekt</label>
        <br>
        </div>
        <div class="col">
        <input type="checkbox" id="unterboden" name="unterboden">
        <label for="unterboden">&nbsp;Unterbodenbeleuchtung</label>
        <br>

        <input type="checkbox" id="fenstertönung" name="fenstertönung">
        <label for="fenstertönung">&nbsp;Fenstertönung</label>
        <br>
        <input type="checkbox" id="reifenqualm" name="reifenqualm">
        <label for="reifenqualm">&nbsp;Reifenqualm</label>
        <br>
        <input type="checkbox" id="nummernschild" name="nummernschild">
        <label for="nummernschild">&nbsp;Nummernschild (Farbe)</label>
        <br>
        </div>
        </div>
    </div>
    <br>
    <div id="Lowrider">
        <h3><a href="javascript:toggle('lowrider')" style="color:black;">Lowrider</a></h3>
        <div id="lowrider" style="display:none">
            <input type="checkbox" id="antennen" name="antennen">
            <label for="antennen">&nbsp;Antennen</label>
            <br>

            <input type="checkbox" id="bodenabdeckung" name="bodenabdeckung">
            <label for="bodenabdeckung">&nbsp;Bodenabdeckung</label>
            <br>

            <input type="checkbox" id="dashboards" name="dashboards">
            <label for="dashboards">&nbsp;Dashboards</label>
            <br>

            <input type="checkbox" id="deko" name="deko">
            <label for="deko">&nbsp;Dekoration</label>
            <br>

            <input type="checkbox" id="fenster" name="fenster">
            <label for="fenster">&nbsp;Fenster</label>
            <br>

            <input type="checkbox" id="hydraulik" name="hydraulik">
            <label for="hydraulik">&nbsp;Hydraulik</label>
            <br>

            <input type="checkbox" id="interieur" name="interieur">
            <label for="interieur">&nbsp;Interieur</label>
            <br>

            <input type="checkbox" id="kofferraum" name="kofferraum">
            <label for="kofferraum">&nbsp;Kofferraum</label>
            <br>

            <input type="checkbox" id="lautsprecher" name="lautsprecher">
            <label for="lautsprecher">&nbsp;Lautsprecher</label>
            <br>

            <input type="checkbox" id="lautsprecher_tuer" name="lautsprecher_tuer">
            <label for="lautsprecher_tuer">&nbsp;Lautsprecher Tür</label>
            <br>

            <input type="checkbox" id="lenkrad" name="lenkrad">
            <label for="lenkrad">&nbsp;Lenkrad</label>
            <br>

            <input type="checkbox" id="luftfilter" name="luftfilter">
            <label for="luftfilter">&nbsp;Luftfilter</label>
            <br>

            <input type="checkbox" id="motorblock" name="motorblock">
            <label for="motorblock">&nbsp;Motorblock</label>
            <br>

            <input type="checkbox" id="quarterdeck" name="quarterdeck">
            <label for="quarterdeck">&nbsp;Quarterdeck</label>
            <br>

            <input type="checkbox" id="schaltknueppel" name="schaltknueppel">
            <label for="schaltknueppel">&nbsp;Schaltknüppel</label>
            <br>

            <input type="checkbox" id="sitze" name="sitze">
            <label for="sitze">&nbsp;Sitze</label>
            <br>

            <input type="checkbox" id="streben" name="streben">
            <label for="streben">&nbsp;Streben</label>
            <br>

            <input type="checkbox" id="tacho" name="tacho">
            <label for="tacho">&nbsp;Tacho</label>
            <br>

            <input type="checkbox" id="tank" name="tank">
            <label for="tank">&nbsp;Tank</label>
            <br>
        </div>
            <hr>
    </div>
        <br>
        <div id="Kosmetik">
            <div class="col" id="Headline">
                Kosmetisches
            </div>
            <label for="fahrzeugteile">Fahrzeugteile (<span id="number">0</span>)</label>
            <button type="button" onClick="addPart();">+ 1</button>
            <button type="button" onClick="subPart();">- 1</button><br><br><br>

            <label for="felgen">Felgen</label>
            <select name="felgen" id="felgen">
                <option value="none">None</option>
                <option value="normale">Normal</option>
                <option value="import">Import</option>

            </select><br> <br>

            <input type="checkbox" id="reifenfarbe" name="reifenfarbe">
            <label for="reifenfarbe">&nbsp;Reifenfarbe</label>
            <br>
             <input type="checkbox" id="design" name="design">
            <label for="design">&nbsp;Sticker</label>
            <br>

            <input type="checkbox" id="hupen" name="hupen">
            <label for="hupen">&nbsp;Hupen</label>
            <br>

            <input type="checkbox" id="xenon" name="xenon">
            <label for="xenon">&nbsp;Xenon (WIRD DIREKT EINGEBAUT!!)</label>
            <br>

        </div>
        <br>
        <div id="Custom">
            <input type="checkbox" id="kennzeichen5" name="kennzeichen5">
            <label for="kennzeichen5">&nbsp;Custom-Kennzeichen</label>
        </div>
        <br>
        <div id="Kunde">
            <div class="col" id="Headline">
                Basics
            </div>
            <label for="name">Name des
            Kunden:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <input style="font-size: 10px" type="text" id="name" name="name" size="20"> <br><br>
            <label for="kn">Dienstnummer:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <input style="font-size: 10px" type="text" id="kn" name="kn" size="2"><br>
        </div>
    </div>

    <div id="final-div">
        <label for="rechnung">Rechnung für D-Funk:&nbsp;</label>
        <input type="checkbox" id="rechnung" name="rechnung"><br>
        <span id="final">0</span>
    </div>

        
<script>
    var fractions = <%= raw @fractions.to_json %>;
                
    function Frakswitch(sel) {
                    
    var frak = sel.options[sel.selectedIndex].text;
    const fractionObject = fractions[frak];
    document.getElementById("primary").innerText = fractionObject.primary;
    document.getElementById("secondary").innerText = fractionObject.secondary;
    document.getElementById("pearl").innerText = fractionObject.pearl;
    document.getElementById("lights").innerText = fractionObject.lights;
    document.getElementById("smoke").innerText = fractionObject.smoke;
    document.getElementById("contract").innerText = fractionObject.contract;
    document.getElementById("plate").innerText = fractionObject.plate;
    }
</script>